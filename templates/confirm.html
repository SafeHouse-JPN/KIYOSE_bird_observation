<!DOCTYPE html>
print("== 入力フォームデータ ==")
for k in ['species', 'date', 'observer', 'email']:
    print(f"{k}: '{form.get(k)}'")

<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>確認画面</title>
</head>
<body>
  <h1>以下の内容で報告します。よろしければ送信ボタンを押してください。</h1>

  <form action="/submit" method="post">
    {% for k, v in data.items() %}
      <p><strong>{{ k }}:</strong>
      {% if k == 'file' and v %}
        {% if 'file_ext' in data and data['file_ext'].startswith('.jpg') %}
          <br><img src="{{ v }}" width="200">
        {% else %}
          <a href="{{ v }}">ファイルを開く</a>
        {% endif %}
      {% else %}
        {{ v }}
      {% endif %}
      </p>
    {% endfor %}

    <input type="submit" value="送信する">
  </form>

  <form action="/" method="get">
    <input type="submit" value="修正する">
  </form>
</body>
</html>
